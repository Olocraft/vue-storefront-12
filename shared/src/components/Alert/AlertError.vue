<template>
  <div
    role="alert"
    class="flex flex-wrap items-center justify-between w-[360px] min-h-[56px] pl-4 pr-4 pt-2 pb-2 rounded-md shadow-md bg-negative-100 border border-negative-400"
  >
    <div class="flex items-center gap-2">
      <svg
        aria-hidden="true"
        class="w-6 h-6 fill-negative-700"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22ZM13 8C13 7.44772 12.5523 7 12 7C11.4477 7 11 7.44772 11 8L11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12L13 8ZM10.75 16C10.75 15.3096 11.3096 14.75 12 14.75C12.6904 14.75 13.25 15.3096 13.25 16C13.25 16.6904 12.6904 17.25 12 17.25C11.3096 17.25 10.75 16.6904 10.75 16Z"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22ZM13 8C13 7.44772 12.5523 7 12 7C11.4477 7 11 7.44772 11 8L11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12L13 8ZM10.75 16C10.75 15.3096 11.3096 14.75 12 14.75C12.6904 14.75 13.25 15.3096 13.25 16C13.25 16.6904 12.6904 17.25 12 17.25C11.3096 17.25 10.75 16.6904 10.75 16Z"
        />
      </svg>
      <span class="text-base font-normal leading-6 text-gray-900 font-body">Informative text</span>
    </div>
    <button
      class="w-6 h-6"
      :class="{'hidden': persistent }"
      @click="close"
    >
      <svg
        aria-hidden="true"
        class="w-6 h-6 fill-negative-700"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M18.2947 7.11511C18.6841 6.72575 18.6841 6.09447 18.2947 5.70511C17.9054 5.31575 17.2741 5.31575 16.8847 5.70511L11.9997 10.5901L7.11474 5.70511C6.72538 5.31575 6.0941 5.31575 5.70474 5.70511C5.31538 6.09447 5.31538 6.72575 5.70474 7.11511L10.5897 12.0001L5.70474 16.8851C5.31538 17.2745 5.31538 17.9057 5.70474 18.2951C6.0941 18.6845 6.72538 18.6845 7.11474 18.2951L11.9997 13.4101L16.8847 18.2951C17.2741 18.6845 17.9054 18.6845 18.2947 18.2951C18.6841 17.9057 18.6841 17.2745 18.2947 16.8851L13.4097 12.0001L18.2947 7.11511Z" />
        <path d="M18.2947 7.11511C18.6841 6.72575 18.6841 6.09447 18.2947 5.70511C17.9054 5.31575 17.2741 5.31575 16.8847 5.70511L11.9997 10.5901L7.11474 5.70511C6.72538 5.31575 6.0941 5.31575 5.70474 5.70511C5.31538 6.09447 5.31538 6.72575 5.70474 7.11511L10.5897 12.0001L5.70474 16.8851C5.31538 17.2745 5.31538 17.9057 5.70474 18.2951C6.0941 18.6845 6.72538 18.6845 7.11474 18.2951L11.9997 13.4101L16.8847 18.2951C17.2741 18.6845 17.9054 18.6845 18.2947 18.2951C18.6841 17.9057 18.6841 17.2745 18.2947 16.8851L13.4097 12.0001L18.2947 7.11511Z" />
      </svg>
    </button>
  </div>
</template>

<script>

export default {
  name: 'AlertError',
  props: {
    persistent: {
      type: Boolean,
      default: false
    }
  },
  setup(_, { emit }) {
    const close = () => {
      emit('close');
    };

    return {
      close
    };
  }
};
</script>
